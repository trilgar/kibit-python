# Практична робота: «Міні-аналітика інтернет-крамниці»

## Мета

За 1 пару потренуватися будувати ключові типи графіків у `matplotlib`/`pandas`: **лінійні**, **стовпчикові (звичайні, сгруповані/стекові)**, **кругові**, **гістограми** (+ невеличкий бонус — **розсіювання** або **полярний** за бажанням).

## Сюжет

У вас є синтетичні дані інтернет-крамниці: щоденні візити й замовлення, продажі по категоріях, каналах і пристроях, а також розподіли сум чеків. Ваше завдання — побудувати зрозумілі графіки для короткого «менеджерського» дайджесту.

---

## Завдання (виконуйте по черзі)

### 1) Лінійний графік «Візити за днями»

Побудуйте лінію для `visits` по осі часу (`date`).
**Вимоги:** підписати осі, назву, ввімкнути сітку, зробити тонкі тікі по днях.
**Підказка:** `plt.plot(x, y)`, `plt.title(...)`, `plt.xlabel(...)`, `plt.grid(True)`; для часу дані вже у форматі `datetime64`.
Для відображення дат у коректному форматі використовуємо `plt.gcf().autofmt_xdate()`.
---

### 2) Дві серії на одному графіку: «Візити vs Замовлення»

Додайте на той самий графік серію `orders` (іншим стилем лінії) і легенду.
**Вимоги:** різні маркери/лінії, легенда з читабельними підписами.
**Підказка:** викличте `plt.plot(...)` **двічі**; далі `plt.legend([...])`.

---

### 3) Стовпчиковий: «Продажі по категоріях»

Побудуйте вертикальний bar-chart для `category_sales` (індекс — категорії `A…E`).
**Вимоги:** підписи під категоріями, назва, прозорість `alpha≈0.8`.
**Підказка:** `plt.bar(positions, values)` і `plt.xticks(positions, labels)`.

---

### 4) Pie chart «Частки за пристроями»

Є `device_share` з індексом `['Desktop','Mobile','Tablet']` і колонкою `share`.
**Вимоги:** кругова діаграма з підписами секторів і відсотками, рівні осі.
**Підказка:** `plt.pie(values, labels=..., autopct='%1.1f%%'); plt.axis('equal')`.

---

### 5) Гістограма «Розподіл суми чека»

З DataFrame `orders_df` використайте колонку `amount`.
**Вимоги:** `bins=20`, сітка, вертикальна лінія середнього (mean) з підписом.
**Підказка:** `plt.hist(..., bins=...)`; середнє — `orders_df['amount'].mean()`, лінія — `plt.axvline(..., linestyle='--')`.

---

## Стартовий код (скопіюйте у свій IDE та запустіть **до** виконання завдань)

> Код тільки **генерує дані** й дає кілька змінних/таблиць для роботи. Побудову графіків ви робите самі за пунктами вище.

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

rng = np.random.default_rng(42)

# 1) Щоденні метрики (30 днів)
date = pd.date_range('2025-03-01', periods=30, freq='D')
visits = (rng.normal(800, 120, size=30).clip(400) + np.linspace(0, 200, 30)).round().astype(int)
orders = (visits * rng.uniform(0.03, 0.06, size=30)).round().astype(int)
daily = pd.DataFrame({'date': date, 'visits': visits, 'orders': orders})

# 2) Продажі по категоріях (штучні, 5 категорій)
categories = list('ABCDE')
category_sales = pd.Series(rng.integers(50, 120, size=5), index=categories, name='sales')

# 3) Канали по місяцях (сгруповані/стекові бари)
months = ['Jan', 'Feb', 'Mar', 'Apr']
direct = rng.integers(120, 220, size=4)
ads    = rng.integers( 80, 180, size=4)
seo    = rng.integers( 60, 140, size=4)
channel_by_month = pd.DataFrame(
    {'Month': months, 'Direct': direct, 'Ads': ads, 'SEO': seo}
)

# 4) Частки пристроїв для pie
device_share = pd.DataFrame(
    {'share': [0.55, 0.35, 0.10]},
    index=['Desktop', 'Mobile', 'Tablet']
)

# 5) Розподіл сум чека (для гістограми)
orders_df = pd.DataFrame({
    'amount': rng.normal(55, 18, size=500).clip(5)  # у.о.
})

# На кожен графік створюйте НОВУ фігуру:
# plt.figure(figsize=(7, 4))
# ... ваш код ...
# plt.show()
```

---

## Підказки (корисні рядки — вставляйте у відповідні місця)

* Форматування дати на осі X в лінійному графіку:
  `plt.gcf().autofmt_xdate()` — легка авто-поворот підписів.
* Легенда: `plt.legend(loc='upper left')` (або інше `loc`).
* Сітка: `plt.grid(True, alpha=0.3)`.
* Стекові бари: для другого шару використовуйте `bottom=низ`, для третього — `bottom=сума двох`.
* Відсотки на pie: `autopct='%1.1f%%'`, тінь: `shadow=True`, «круглість»: `plt.axis('equal')`.